<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matete Hardware - Home</title>
    <link rel="stylesheet" href="styles.css">
    <script defer src="script.js"></script>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Matete Hardware</div>
            <input type="text" placeholder="Search for products..." class="search-bar">
            
            <!-- Account Dropdown -->
            <div class="account-dropdown">
                <button class="account-btn">AccountðŸ‘¤</button>
                <div class="account-content">
                    <a href="landing page.html">Sign out</a>
                    <a href="#">Orders</a>
                </div>
            </div>
    
            <!-- Cart Icon -->
            <div class="cart-icon">
               Cart ðŸ›’
                <span class="cart-badge">0</span>
            </div>
        </nav>
    </header>
    
    
    <section class="hero">
        <h1>Welcome to Matete Hardware</h1>
        <p>Your one-stop shop for all hardware needs!</p>
    </section>
    
    <section class="categories">
        <h2>Shop by Category</h2>
        <div class="category-grid">
            <div class="category" onclick="openCategory('power tools')">Power tools</div>
            <div class="category" onclick="openCategory('Handtools')">handtools</div>
            <div class="category" onclick="openCategory('Plumbing')">Plumbing</div>
            <div class="category" onclick="openCategory('Electrical')">Electrical</div>
<div class="category" onclick="openCategory('Paint & Coatings')">Paint & Coatings</div>
<div class="category" onclick="openCategory('Fasteners')">Fasteners</div>
<div class="category" onclick="openCategory('Building Materials')">Building Materials</div>
<div class="category" onclick="openCategory('Gardening & Outdoors')">Gardening & Outdoors</div>
<div class="category" onclick="openCategory('Automotive')">Automotive</div>
<div class="category" onclick="openCategory('Lighting')">Lighting</div>
<div class="category" onclick="openCategory('Safety Equipment')">Safety Equipment</div>
<div class="category" onclick="openCategory('Welding Supplies')">Welding Supplies</div>
<div class="category" onclick="openCategory('Adhesives & Sealants')">Adhesives & Sealants</div>
<div class="category" onclick="openCategory('Woodworking')">Woodworking</div>
<div class="category" onclick="openCategory('Locks & Security')">Locks & Security</div>

        </div>
    </section>
    
    <section class="featured-products">
        <h2>Featured Products</h2>
        <div class="product-grid">
            <div class="product">
                <img src="https://via.placeholder.com/150" alt="Product Image">
                <h3>Hammer</h3>
                <p>KES 500</p>
                <button onclick="addToCart()">Add to Cart</button>
            </div>
            <div class="product">
                <img src="https://via.placeholder.com/150" alt="Product Image">
                <h3>Electric Drill</h3>
                <p>KES 3,500</p>
                <button onclick="addToCart()">Add to Cart</button>
            </div>
        </div>
    </section>
    
    <footer>
        <p>&copy; 2025 Matete Hardware. All Rights Reserved.</p>
    </footer>
    
    <script>
        function openCategory(category) {
            window.location.href = `products.html?category=${category}`;
        }
    </script>


    <script type="module">
        
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-app.js";
        import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/11.3.0/firebase-auth.js";
    
        
        const firebaseConfig = {
          apiKey: "AIzaSyAfErcRDoWGwZkhSvxQehJfvh2eXdFtNjY",
          authDomain: "online-hardware-5545a.firebaseapp.com",
          projectId: "online-hardware-5545a",
          storageBucket: "online-hardware-5545a.appspot.com",
          messagingSenderId: "211586361252",
          appId: "1:211586361252:web:ab2506f1a2c6aadfbe0331"
        };
    
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
    
        
        const IDLE_TIMEOUT = 300000;
        let idleTimer;
    
        function logActivity(event) {
          console.log(`Activity detected: ${event.type}`);
        }
    
        // Reset the idle timer on any user activity
        function resetIdleTimer(e) {
          logActivity(e);
          clearTimeout(idleTimer);
          idleTimer = setTimeout(logoutUser, IDLE_TIMEOUT);
          console.log("Idle timer reset");
        }
    
        // Log out the user and redirect to the login page
        function logoutUser() {
          console.log("User idle for 1 minute. Logging out...");
          signOut(auth)
            .then(() => {
              alert("You have been logged out due to inactivity. Please log in again.");
              window.location.href = "hardwarelogin.html"; 
            })
            .catch((error) => {
              console.error("Error signing out:", error);
            });
        }
    
        window.onload = resetIdleTimer;
        window.onmousemove = resetIdleTimer;
        window.onkeydown = resetIdleTimer;
        window.onscroll = resetIdleTimer;
        window.onclick = resetIdleTimer;
    
        // Start the idle timer on page load
        idleTimer = setTimeout(logoutUser, IDLE_TIMEOUT);
      </script>
</body>
</html>
